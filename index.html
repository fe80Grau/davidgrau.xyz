<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://unpkg.com/jquery.terminal@2.x.x/js/jquery.terminal.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/jquery.terminal@2.x.x/css/jquery.terminal.min.css"/>
    <style>
        .terminal, .cmd, .terminal .terminal-output div div, .cmd .prompt {
            font-size: 13px;
            line-height: 15px;
        }
    </style>
</head>
<body>

<script>

$(function() {

    const skills = [
        ['Head 1', 'Head 2', 'Head 3'],
        ['Value 1', 'Value 2', 'Value 3']
    ]

    const hello = ' <h1 id="txtA">David Grau Martínez.</h1><br/> \
                    <h2>Gestor de publicidad digital, especialista en atribución y desarrollador.</h2> <br/> \
                    <p>Desarrollador apasionado y especializado en Marketing Digital. Actualmente ejerzo de Squad Leader y Director de Marketing Digital en la Fundación Universitaria Iberoamericana; \
                    Planificación de estrategias para campañas digitales, entendiendo y mejorando el software empleado en la lógica de impacto, captación y análisis, \
                    coordinando metodologías ágiles en equipos para el desarrollo de software y coordinando un equipo de configuración de campañas publicitarias.</p> \
                    <p>El software que se emplea para el seguimiento y medición de los datos es de suma importancia, por lo que debe existir una sinergia entre el esfuerzo de impacto, \
                    la clasificación de la información y el procesamiento de la misma, para realizar un correcto análisis de la información. Los datos han de estar asegurdados y han de respetar la layes. \
                    Una figura que entienda el macro de todos estos conceptos es capaz de potenciar los resultados de cualquier estrategia publicitaria sin necesidad de invertir en herramientas excesivamente caras.</p> \
                    <p>Tengo inquietudes, ser squad leader o director no implica que todo mi trabajo consista en coordinar. Pico código, configuro campañas, investigo y aprendo diariamente junto a mi euqipo</p> <br/> \
                    <h2>Aptitudes:</h2> <br/> \
                    <h2>Experiencia laboral:</h2> <br/> \
                    <h2>Formación:</h2> <br/> '+ascii_table(skills,true)+'\
                    <h2>Comandos de navegación:</h2> \
                    <p><blockquote>portfolio : Devuelve un listado de los proyectos que he realizado y he podido documentar públicamente.</blockquote></p>\
                    <p><blockquote>contacto : Devuelve mi información de contacto.</blockquote></p> \
                    <p><blockquote>cls : Limpia los comandos y resultados introducidos.</blockquote></p>';


    function ascii_table(array, header) {
        if (!array.length) {
            return '';
        }
        for (var i = array.length - 1; i >= 0; i--) {
            var row = array[i];
            var stacks = [];
            for (var j = 0; j < row.length; j++) {
                var new_lines = row[j].toString().split("\n");
                row[j] = new_lines.shift();
                stacks.push(new_lines);
            }
            var new_rows_count = Math.max.apply(Math, stacks.map(function(column) {
                return column.length;
            }));
            for (var k = new_rows_count - 1; k >= 0; k--) {
                array.splice(i + 1, 0, stacks.map(function(column) {
                    return column[k] || "";
                }));
            }
        }

        var lengths = array[0].map(function(_, i) {
            var col = array.map(function(row) {
                if (row[i] != undefined) {
                    var len = row[i].length;
                    if (row[i].match(/\t/g)) {
                        // tab is 4 spaces
                        len += row[i].match(/\t/g).length*3;
                    }
                    return len;
                } else {
                    return 0;
                }
            });
            return Math.max.apply(Math, col);
        });
        // column padding
        array = array.map(function(row) {
            return '| ' + row.map(function(item, i) {
                var size = item.length;
                if (item.match(/\t/g)) {
                    // tab is 4 spaces
                    size += item.match(/\t/g).length*3;
                }
                if (size < lengths[i]) {
                    item += new Array(lengths[i] - size + 1).join(' ');
                }
                return item;
            }).join(' | ') + ' |';
        });
        var sep = '+' + lengths.map(function(length) {
            return new Array(length + 3).join('-');
        }).join('+') + '+';
        if (header) {
            return sep + '\n' + array[0] + '\n' + sep + '\n' +
                array.slice(1).join('\n') + '<br/>' + sep;
        } else {
            return sep + '\n' + array.join('\n') + '<br/>' + sep;
        }
    }

    var term = $('body').terminal(
        {
            menu: function() {
                this.echo("contacto");
                this.echo("proyectos");
            },
            sub: {
                get: function(arg) {
                    this.echo("sub.get: " + arg);
                }
            },
            close: function(arg1, arg2) {
                this.echo("close: " + arg1 + " " + arg2);
            },
            cls: function(){
                this.clear();
                this.echo($(hello));
            }
        },
        {
            name : 'David Grau Martínez',
            greetings : false,
            clear : false,
            onInit() {
                this.echo($(hello))
            }
        }
    );
});
</script>
</body>

</html>